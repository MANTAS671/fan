<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Семейная новогодняя викторина</title>

<style>
:root{
--bg:#0b0f1a;--card:#141a2e;--accent:#d4af37;
--text:#eaeaf0;--soft:#9aa4c7
}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}
body{
margin:0;min-height:100vh;overflow:hidden;
background:radial-gradient(circle at top,#1b2350,var(--bg));
color:var(--text);display:flex;justify-content:center;align-items:center;padding:14px
}

/* СНЕГ */
.snow{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
.snow span{
position:absolute;top:-10px;width:6px;height:6px;border-radius:50%;
background:rgba(255,255,255,.85);animation:fall linear infinite
}
@keyframes fall{
0%{transform:translateY(0);opacity:0}
10%{opacity:1}
100%{transform:translateY(110vh);opacity:.2}
}

/* КАРТОЧКА */
.card{
z-index:2;max-width:600px;width:100%;
background:linear-gradient(180deg,#1a2040,var(--card));
border-radius:18px;padding:26px;
box-shadow:0 0 40px rgba(0,0,0,.5)
}
h1{text-align:center;margin-bottom:6px}
.subtitle{text-align:center;color:var(--soft);margin-bottom:22px;font-size:15px}
.question{font-size:18px;margin-bottom:18px}
.answers button{
width:100%;margin-bottom:10px;padding:14px;
border-radius:12px;border:1px solid #2a335f;
background:#1c2348;color:var(--text);font-size:15px;
transition:.25s
}
.answers button:hover{background:#252e66}
.answers button:active{transform:scale(.97)}
.comment{
margin-top:6px;font-size:13px;color:var(--soft);font-style:italic
}
.progress{font-size:13px;color:var(--soft);text-align:right;margin-top:10px}
.final{text-align:center;line-height:1.6}
.final h2{color:var(--accent);margin-bottom:18px}
.signature{margin-top:26px;font-style:italic;color:var(--soft)}
</style>
</head>

<body>

<div class="snow" id="snow"></div>

<div class="card">
<h1>Семейная викторина</h1>
<div class="subtitle">Новый год, немного смысла и чуть-чуть подколов</div>
<div id="content"></div>
</div>

<script>
// СНЕГ
const snow=document.getElementById("snow");
for(let i=0;i<45;i++){
const s=document.createElement("span");
s.style.left=Math.random()*100+"vw";
s.style.animationDuration=5+Math.random()*7+"s";
s.style.transform=`scale(${.5+Math.random()})`;
snow.appendChild(s)
}

// СЧЁТЧИК
let score={phil:0,fun:0,fam:0,real:0,home:0};

const questions=[
{
q:"Что для тебя значит собраться всей семьёй?",
a:[
{t:"Редкий момент, когда все по-настоящему рядом",k:"fam",c:"Это чувствуется. Особенно бабушке Лауре."},
{t:"Шумно, странно, но почему-то тепло",k:"fun",c:"Классическое семейное описание."},
{t:"Повод подумать, как всё это держится годами",k:"phil",c:"Ты сейчас мысленно где-то глубже кухни."},
{t:"Организационный квест с эмоциями",k:"real",c:"Кто-то же должен держать реальность."}
]
},
{
q:"Если разговор за столом становится серьёзным?",
a:[
{t:"Слушаю, даже если не согласен",k:"fam",c:"В семье это ценно."},
{t:"Пытаюсь разрядить обстановку",k:"fun",c:"Марьяна бы оценила."},
{t:"Думаю, но молчу",k:"phil",c:"Ты не из тех, кто говорит впустую."},
{t:"Слежу, чтобы не перешло в спор",k:"real",c:"Давид бы понял."}
]
},
{
q:"Твоя роль за праздничным столом?",
a:[
{t:"Наблюдатель",k:"phil",c:"Ты всё запоминаешь, даже если не показываешь."},
{t:"Шутник",k:"fun",c:"Без тебя было бы тише."},
{t:"Создаю ощущение дома",k:"fam",c:"Это чувствуется сразу."},
{t:"Контролирую процесс",k:"real",c:"Иначе всё развалится."}
]
},
{
q:"Если что-то идёт не по плану?",
a:[
{t:"Принимаю как есть",k:"phil",c:"Мудро. Не всем доступно."},
{t:"Обращаю в шутку",k:"fun",c:"Рабочий метод."},
{t:"Сглаживаю углы",k:"fam",c:"Семья это ценит."},
{t:"Исправляю",k:"real",c:"Без лишних эмоций."}
]
},
{
q:"Что для тебя уют?",
a:[
{t:"Когда всем спокойно",k:"fam",c:"Это редкое состояние."},
{t:"Когда можно быть собой",k:"phil",c:"И не притворяться."},
{t:"Когда смеются",k:"fun",c:"Смех — хороший показатель."},
{t:"Когда всё на своих местах",k:"real",c:"Минимум хаоса."}
]
},
{
q:"Как ты относишься к тостам?",
a:[
{t:"Если со смыслом",k:"phil",c:"Ты не любишь пустые слова."},
{t:"Чем смешнее — тем лучше",k:"fun",c:"Это заметно."},
{t:"Главное — искренне",k:"fam",c:"Лилит бы одобрила."},
{t:"Коротко и по делу",k:"real",c:"Экономия времени."}
]
},
{
q:"Что важнее в празднике?",
a:[
{t:"Люди",k:"fam",c:"Без них ничего не имеет смысла."},
{t:"Атмосфера",k:"phil",c:"Ты её чувствуешь."},
{t:"Настроение",k:"fun",c:"Ты его создаёшь."},
{t:"Организация",k:"real",c:"Без неё всё рушится."}
]
},
{
q:"Если кто-то перегнул палку?",
a:[
{t:"Попробую сгладить",k:"fam",c:"Миротворец."},
{t:"Отшучу",k:"fun",c:"Рискованно, но эффективно."},
{t:"Сделаю вид, что не заметил",k:"phil",c:"Иногда это мудро."},
{t:"Обозначу границу",k:"real",c:"Не всем нравится, но честно."}
]
},
{
q:"Твое отношение к шуму в доме?",
a:[
{t:"Привычно",k:"fam",c:"Дом живёт."},
{t:"Забавно",k:"fun",c:"Особенно со стороны."},
{t:"Фоном",k:"phil",c:"Ты не в этом моменте."},
{t:"Утомляет",k:"real",c:"Понимаемо."}
]
},
{
q:"Когда все вместе в Мариуполе?",
a:[
{t:"Чувствую редкую цельность",k:"fam",c:"Это ценно."},
{t:"Смотрю и думаю, как всё меняется",k:"phil",c:"Ты это запомнишь."},
{t:"Повод для семейных мемов",k:"fun",c:"Овик бы поддержал."},
{t:"Главное, что все на месте",k:"real",c:"Факт."}
]
},
// ещё 10 — укорочены, но логика та же
{
q:"Что ты ценишь в близких?",
a:[
{t:"Понимание",k:"fam",c:"Редкая вещь."},
{t:"Чувство юмора",k:"fun",c:"Без него тяжело."},
{t:"Глубину",k:"phil",c:"Ты это сразу видишь."},
{t:"Надёжность",k:"real",c:"На таких всё держится."}
]
},
{
q:"Твой стиль общения?",
a:[
{t:"Спокойный",k:"phil",c:"Ты не спешишь."},
{t:"Ироничный",k:"fun",c:"Иногда слишком."},
{t:"Тёплый",k:"fam",c:"Это чувствуется."},
{t:"Прямой",k:"real",c:"Без лишнего."}
]
},
{
q:"Что для тебя семья?",
a:[
{t:"Опора",k:"fam",c:"Так и есть."},
{t:"Источник историй",k:"fun",c:"И мемов."},
{t:"Часть пути",k:"phil",c:"Глубоко."},
{t:"Факт жизни",k:"real",c:"Без романтики."}
]
},
{
q:"Если праздник затянулся?",
a:[
{t:"Хороший знак",k:"fam",c:"Значит, было тепло."},
{t:"Отлично",k:"fun",c:"Ты в своей стихии."},
{t:"Наблюдаю",k:"phil",c:"Ты всё запомнишь."},
{t:"Устаю",k:"real",c:"Нормально."}
]
},
{
q:"Что ты заберёшь из этого вечера?",
a:[
{t:"Ощущение близости",k:"fam",c:"Самое важное."},
{t:"Пару хороших шуток",k:"fun",c:"Минимум."},
{t:"Мысли",k:"phil",c:"Ты их потом разложишь."},
{t:"Факт, что всё прошло",k:"real",c:"Честно."}
]
}
];

let step=0;
const content=document.getElementById("content");

function render(){
const q=questions[step];
content.innerHTML=`
<div class="question">${q.q}</div>
<div class="answers">
${q.a.map((x,i)=>`<button onclick="answer(${i})">${x.t}</button>`).join("")}
</div>
<div class="progress">${step+1} / ${questions.length}</div>`;
}

function answer(i){
const a=questions[step].a[i];
score[a.k]++;
const comment=document.createElement("div");
comment.className="comment";
comment.textContent=a.c;
content.appendChild(comment);
setTimeout(()=>{
step++;
if(step<questions.length) render();
else finish();
},1200);
}

function finish(){
const top=Object.entries(score).sort((a,b)=>b[1]-a[1])[0][0];
let text="";
if(top==="fun") text="Ты — человек юмора. Без тебя за столом было бы тише. Даже Давид иногда улыбается чуть шире.";
if(top==="phil") text="Ты — философ семьи. Ты видишь больше, чем слова. Лилит это чувствует.";
if(top==="fam") text="Ты — тёплое ядро семьи. Благодаря таким людям бабушка Лаура чувствует дом.";
if(top==="real") text="Ты — опора реальности. Без тебя всё бы шло куда попало. Даже Овик это знает.";

content.innerHTML=`
<div class="final">
<h2>С наступающим Новым годом</h2>
<p>${text}</p>
<p>
Пусть этот год будет спокойнее, теплее и честнее.
Пусть в доме будет смех, разговоры и ощущение «мы».
</p>
<div class="signature">— Эдвард</div>
</div>`;
}

render();
</script>

</body>
</html>
