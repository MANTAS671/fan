<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>История Татьяны и Эдварда</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      background: linear-gradient(120deg, #181824 0%, #23243a 100%);
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      overflow-x: hidden;
    }
    .container {
      background: rgba(34,36,64,0.85);
      box-shadow: 0 8px 32px 0 rgba(0,0,0,0.45);
      border-radius: 2rem;
      padding: 2rem 1.5rem;
      max-width: 440px;
      width: 96vw;
      margin: 1.5rem auto;
      animation: fadein 1.4s cubic-bezier(.6,0,.4,1);
    }
    @keyframes fadein {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .story {
      font-size: 1.19rem;
      margin-bottom: 1.3rem;
      line-height: 1.6;
      min-height: 76px;
      transition: all .3s;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 1.1rem;
      margin-bottom: 0.5rem;
    }
    .choice-btn {
      background: linear-gradient(90deg, #45b4ff 0%, #6642f5 100%);
      color: #fff;
      border: none;
      padding: 0.86rem 1.2rem;
      font-size: 1.02rem;
      border-radius: 1.2rem;
      cursor: pointer;
      font-family: inherit;
      font-weight: 600;
      box-shadow: 0 2px 8px 0 rgba(80,110,255,0.15);
      transition: all .15s;
    }
    .choice-btn:hover, .choice-btn:focus {
      background: linear-gradient(90deg, #6ad1fc 0%, #7e63fc 100%);
      box-shadow: 0 6px 16px 0 rgba(80,110,255,0.23);
      outline: none;
    }
    .ending {
      font-size: 1.18rem;
      padding: 1.4rem 0 0.6rem 0;
      color: #aee1ff;
      font-weight: 600;
      line-height: 1.7;
      text-align: center;
      min-height: 80px;
    }
    .restart-btn {
      margin: 1.1rem auto 0 auto;
      display: block;
      background: linear-gradient(90deg, #2ef09a 0%, #55c5f2 100%);
      color: #222;
      font-weight: 700;
      border: none;
      padding: 0.9rem 2.4rem;
      font-size: 1.11rem;
      border-radius: 1.1rem;
      cursor: pointer;
      transition: all .15s;
    }
    .restart-btn:hover {
      background: linear-gradient(90deg, #66fec5 0%, #84daff 100%);
    }
    @media (max-width: 500px) {
      .container { padding: 1.1rem 0.4rem; border-radius: 1.1rem; }
      .story { font-size: 1rem; min-height: 50px; }
      .choice-btn { font-size: .93rem; padding: 0.7rem 0.7rem; border-radius: 1rem; }
      .ending { font-size: 1.02rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="story" id="story"></div>
    <div class="choices" id="choices"></div>
    <div class="ending" id="ending"></div>
    <button class="restart-btn" id="restartBtn" style="display:none;">Попробовать другой вариант</button>
  </div>
  <script>
    const storyEl = document.getElementById('story');
    const choicesEl = document.getElementById('choices');
    const endingEl = document.getElementById('ending');
    const restartBtn = document.getElementById('restartBtn');

    const storyTree = {
      start: {
        text: 'Эдвард впервые пишет тебе: "Привет, Татьяна! У тебя такая добрая улыбка, что аж захотелось познакомиться." Как отреагируешь?',
        choices: [
          { text: 'Ответить шуткой: "Улыбаюсь только когда кофе дали!"', next: 'coffeeJoke' },
          { text: 'Сделать вид, что занята: "Ой, привет! Сейчас не могу говорить..."', next: 'busy' },
          { text: 'Сразу по-серьёзному: "Спасибо! А ты чем увлекаешься?"', next: 'seriousStart' }
        ]
      },
      coffeeJoke: {
        text: 'Эдвард: "Я уже бегу с кофе, как истинный джентльмен!"',
        choices: [
          { text: 'Пошутить в ответ: "Тогда бери два, вдруг я захочу ещё!"', next: 'doubleCoffee' },
          { text: 'Спросить: "А ты вообще умеешь варить кофе?"', next: 'coffeeSkill' }
        ]
      },
      doubleCoffee: {
        text: 'Эдвард: "Готов даже три! Ради такой девушки всё что угодно."',
        choices: [
          { text: 'Поддержать флирт: "Ого, надеюсь без яда!"', next: 'flirt' },
          { text: 'Перевести на интересы: "Ты всегда такой энергичный?"', next: 'energy' }
        ]
      },
      coffeeSkill: {
        text: 'Эдвард: "Умею! Но ты меня можешь научить — вдруг твой способ волшебный."',
        choices: [
          { text: 'Улыбнуться: "Учитель из меня так себе, но попробую."', next: 'hobbyTalk' },
          { text: 'Спросить: "Ты вообще часто готовишь?"', next: 'cooking' }
        ]
      },
      busy: {
        text: 'Ты занята, но Эдвард не сдаётся: "Ладно, я подожду, ты мне уже интересна."',
        choices: [
          { text: 'Мило: "Окей, отпишу позже!"', next: 'lateTalk' },
          { text: 'Сразу спросить, зачем пишет: "Ты всем так пишешь?"', next: 'questionIntent' }
        ]
      },
      lateTalk: {
        text: 'Позже ты отвечаешь, Эдвард радуется: "Ура, дождался! Как твой день прошёл?"',
        choices: [
          { text: 'Кратко: "Обычный день, ничего особенного."', next: 'hobbyTalk' },
          { text: 'В деталях: "Была куча дел, но теперь отдыхаю."', next: 'movieNight' }
        ]
      },
      questionIntent: {
        text: 'Эдвард: "Нет, мне только ты понравилась. Правда!"',
        choices: [
          { text: 'Поверить: "Ну ладно, поверю на слово."', next: 'hobbyTalk' },
          { text: 'Сомневаться: "А почему я?"', next: 'whyYou' }
        ]
      },
      seriousStart: {
        text: 'Эдвард: "Люблю музыку, книги и философию. А ты?"',
        choices: [
          { text: 'Рассказать о своих хобби', next: 'hobbyTalk' },
          { text: 'Пошутить: "А если я скажу, что люблю спать?"', next: 'sleepJoke' }
        ]
      },
      hobbyTalk: {
        text: 'Вы обмениваетесь хобби. Оказывается, у вас есть общие интересы!',
        choices: [
          { text: 'Спросить про любимую музыку', next: 'musicTalk' },
          { text: 'Узнать, какой он человек: "Ты экстраверт или интроверт?"', next: 'personality' }
        ]
      },
      sleepJoke: {
        text: 'Эдвард: "Спать — это святое! Но если я буду рядом, ты не уснёшь..."',
        choices: [
          { text: 'Посмеяться: "Ну-ну, проверь!"', next: 'flirt' },
          { text: 'Ответить серьёзно: "Сомневаюсь!"', next: 'flirt' }
        ]
      },
      musicTalk: {
        text: 'Эдвард: "Я обожаю пианино и иногда играю на гитаре."',
        choices: [
          { text: 'Попросить сыграть при встрече', next: 'musicLive' },
          { text: 'Спросить: "Скинешь видео?"', next: 'musicVideo' }
        ]
      },
      musicLive: {
        text: 'Эдвард: "Обещаю сыграть для тебя лично!"',
        choices: [
          { text: 'Написать: "Договорились!"', next: 'futurePlans' },
          { text: 'Пошутить: "Если не облажаешься!"', next: 'futurePlans' }
        ]
      },
      musicVideo: {
        text: 'Эдвард: "Сначала увидимся, а потом — эксклюзив!"',
        choices: [
          { text: 'Согласиться: "Интригуешь!"', next: 'futurePlans' },
          { text: 'Сказать: "Я жду!"', next: 'futurePlans' }
        ]
      },
      personality: {
        text: 'Эдвард: "Интроверт, но ради тебя могу стать экстравертом."',
        choices: [
          { text: 'Пошутить: "Ну посмотрим, какой ты!"', next: 'futurePlans' },
          { text: 'Сказать: "Интроверты классные."', next: 'futurePlans' }
        ]
      },
      movieNight: {
        text: 'Эдвард: "Может, вместе посмотрим какой-нибудь фильм онлайн?"',
        choices: [
          { text: 'Согласиться', next: 'futurePlans' },
          { text: 'Пошутить: "А попкорн кто принесёт?"', next: 'futurePlans' }
        ]
      },
      energy: {
        text: 'Эдвард: "Ты просто вдохновляешь!"',
        choices: [
          { text: 'Пошутить: "Смотри, не перегори!"', next: 'flirt' },
          { text: 'Сказать: "Спасибо, приятно!"', next: 'flirt' }
        ]
      },
      flirt: {
        text: 'Переписка становится всё более уютной и весёлой. Эдвард явно настроен на флирт!',
        choices: [
          { text: 'Ответить взаимно', next: 'futurePlans' },
          { text: 'Перевести на дружбу', next: 'friendzone' }
        ]
      },
      cooking: {
        text: 'Эдвард: "Иногда. Но если вместе — готовить веселее!"',
        choices: [
          { text: 'Согласиться: "Вдвоём и правда интереснее."', next: 'futurePlans' },
          { text: 'Пошутить: "Главное — не сжечь кухню."', next: 'futurePlans' }
        ]
      },
      whyYou: {
        text: 'Эдвард: "Ты очень искренняя, таких мало!"',
        choices: [
          { text: 'Растрогаться: "Спасибо!"', next: 'hobbyTalk' },
          { text: 'Пошутить: "Ну да, я редкий Pokémon."', next: 'hobbyTalk' }
        ]
      },
      futurePlans: {
        text: 'Проходит время. Переписка уже на другом уровне. Что дальше?',
        choices: [
          { text: 'Намекнуть на встречу', next: 'meeting' },
          { text: 'Пошутить: "Давай не спешить!"', next: 'slowdown' }
        ]
      },
      meeting: {
        text: 'Эдвард: "С удовольствием приглашу тебя на кофе! Только без подвохов, обещаю."',
        choices: [
          { text: 'Согласиться на встречу', next: 'endingDate' },
          { text: 'Попросить время на подумать', next: 'endingWait' }
        ]
      },
      slowdown: {
        text: 'Эдвард: "Ладно, буду ждать хоть сто лет! Но фотку члена всё равно не скину ;)"',
        choices: [
          { text: 'Рассмеяться: "Ну, хоть это радует!"', next: 'endingFriend' },
          { text: 'Сказать: "Вдруг захочу попросить?"', next: 'endingTroll' }
        ]
      },
      friendzone: {
        text: 'Ты перевела разговор в дружбу. Эдвард: "Я рад, что у меня есть такой друг!"',
        choices: [
          { text: 'Дружески ответить', next: 'endingFriend' }
        ]
      },
      endingDate: {
        text: 'Вы встречаетесь, пьёте кофе, смеётесь, и всё складывается отлично! P.S. Нет, Эдвард не собирается скидывать фотку члена. Это наша шутка :)',
        choices: []
      },
      endingWait: {
        text: 'Ты берёшь паузу. Эдвард терпеливо ждёт. P.S. Нет, Эдвард не собирается скидывать фотку члена. Не проси! :)',
        choices: []
      },
      endingFriend: {
        text: 'Вы стали классными друзьями, переписываетесь и прикалываетесь друг над другом. Но фоток, о которых все шутят, не будет. Просто дружба :)',
        choices: []
      },
      endingTroll: {
        text: 'Эдвард смеётся: "Ну, если только в Музее Современного Искусства..." P.S. Нет, Эдвард не собирается скидывать фотку члена. Ну правда!',
        choices: []
      }
    };

    let current = 'start';

    function renderNode(nodeName) {
      const node = storyTree[nodeName];
      storyEl.textContent = node.text;
      choicesEl.innerHTML = '';
      endingEl.textContent = '';
      if (!node.choices || node.choices.length === 0) {
        endingEl.textContent = 'Конец истории!';
        restartBtn.style.display = 'block';
        return;
      }
      node.choices.forEach(choice => {
        const btn = document.createElement('button');
        btn.className = 'choice-btn';
        btn.textContent = choice.text;
        btn.onclick = () => renderNode(choice.next);
        choicesEl.appendChild(btn);
      });
      restartBtn.style.display = 'none';
    }

    restartBtn.onclick = () => renderNode('start');
    renderNode('start');
  </script>
</body>
</html>
